import os, requests, json; from dotenv import load_dotenv; load_dotenv(); api_key = os.getenv("DEEPSEEK_API_KEY"); base_url = os.getenv("DEEPSEEK_ENDPOINT"); print(f"API Key: {api_key[:5]}...{api_key[-5:]}"); print(f"Base URL: {base_url}"); headers1 = {"Authorization": f"Bearer {api_key}", "Content-Type": "application/json"}; headers2 = {"Authorization": api_key, "Content-Type": "application/json"}; payload = {"model": "deepseek-chat", "messages": [{"role": "system", "content": "You are a helpful assistant."}, {"role": "user", "content": "Hello!"}], "stream": False}; print("
Test 1:"); print(f"Headers: {headers1}"); try: response = requests.post(f"{base_url}/chat/completions", headers=headers1, json=payload); print(f"Status Code: {response.status_code}"); print(f"Response: {response.text}"); except Exception as e: print(f"Error: {str(e)}"); print("
Test 2:"); print(f"Headers: {headers2}"); try: response = requests.post(f"{base_url}/chat/completions", headers=headers2, json=payload); print(f"Status Code: {response.status_code}"); print(f"Response: {response.text}"); except Exception as e: print(f"Error: {str(e)}")
